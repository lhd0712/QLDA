<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Edit Event</title>
	<style>
		body {
			font-family: system-ui;
			background: #fafafa;
		}
		.add-event-container {
			max-width: 600px;
			margin: 40px auto;
			background: #fff;
			border-radius: 16px;
			box-shadow: 0 2px 12px #0001;
			padding: 32px 36px 24px 36px;
		}
		.add-event-title {
			font-size: 28px;
			font-weight: bold;
			margin-bottom: 24px;
			color: #4828FA;
			text-align: center;
		}
		.form-row {
			display: flex;
			gap: 18px;
			margin-bottom: 18px;
		}
		.form-row label {
			flex: 1;
			display: flex;
			flex-direction: column;
			font-weight: 500;
			color: #333;
			font-size: 16px;
		}
		input, select, textarea {
			margin-top: 6px;
			padding: 10px;
			border-radius: 8px;
			border: 1px solid #ccc;
			font-size: 16px;
			background: #f7f7f7;
		}
		textarea {
			resize: vertical;
			min-height: 48px;
		}
		.add-event-actions {
			display: flex;
			justify-content: flex-end;
			gap: 16px;
			margin-top: 24px;
		}
		.add-event-actions button {
			background: #4828FA;
			color: #fff;
			border: none;
			border-radius: 10px;
			padding: 10px 28px;
			font-size: 18px;
			font-weight: bold;
			cursor: pointer;
			transition: background 0.2s;
		}
		.add-event-actions button.cancel {
			background: #bbb;
			color: #fff;
		}
	</style>
</head>
<body>
<div class="add-event-container">
	<div class="add-event-title">Edit Event</div>
	<form method="post" action="">
		<div class="form-row">
			<label>Event Title
				<input type="text" name="title" placeholder="Event name" required value="{{ todo.task }}" />
			</label>
		</div>
		<div class="form-row">
			<label>Start Date
				<input type="date" name="start_date" required value="{{ todo.start_date }}" />
			</label>
			<label>End Date
				<input type="date" name="end_date" required value="{{ todo.end_date }}" />
			</label>
		</div>
		<div class="form-row">
			<label>Start Time
				<input type="time" name="start_time" required value="{{ todo.start_time }}" />
			</label>
			<label>End Time
				<input type="time" name="end_time" required value="{{ todo.end_time }}" />
			</label>
		</div>
		<div class="form-row">
			<label>Reminder
				<select name="reminder">
					<option value="none" {% if todo.reminder=='none' %}selected{% endif %}>None</option>
					<option value="5" {% if todo.reminder=='5' %}selected{% endif %}>5 minutes before</option>
					<option value="10" {% if todo.reminder=='10' %}selected{% endif %}>10 minutes before</option>
					<option value="30" {% if todo.reminder=='30' %}selected{% endif %}>30 minutes before</option>
					<option value="60" {% if todo.reminder=='60' %}selected{% endif %}>1 hour before</option>
				</select>
			</label>
			<label>Repeat
				<select name="repeat">
					<option value="none" {% if todo.repeat=='none' %}selected{% endif %}>None</option>
					<option value="daily" {% if todo.repeat=='daily' %}selected{% endif %}>Daily</option>
					<option value="weekly" {% if todo.repeat=='weekly' %}selected{% endif %}>Weekly</option>
					<option value="monthly" {% if todo.repeat=='monthly' %}selected{% endif %}>Monthly</option>
				</select>
			</label>
		</div>
		<div class="form-row">
			<label>Tag
				<select name="tag" style="width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;">
					<option value="">-- Select tag --</option>
					{% for tag in tag_list %}
						<option value="{{ tag }}" {% if todo.tag==tag %}selected{% endif %}>{{ tag }}</option>
					{% endfor %}
				</select>
			</label>
			<label>Location
				<input type="text" name="location" placeholder="Location (optional)" value="{{ todo.location }}" />
			</label>
		</div>
		<div class="form-row">
			<label>Description
				<textarea name="description" placeholder="Description (optional)">{{ todo.description }}</textarea>
			</label>
		</div>
		<div class="add-event-actions">
			<button type="button" class="cancel" onclick="window.location.href='/day'">Cancel</button>
			<button type="submit">Save</button>
			<form method="post" action="/delete-event/{{ todo.id }}" onsubmit="return confirm('Bạn có chắc chắn muốn xoá sự kiện này?');" style="margin: 0;">
				<button type="submit" style="background: #FF4D4F; color: #fff; border: none; border-radius: 10px; padding: 10px 28px; font-size: 16px; font-weight: bold; cursor: pointer;">Xoá sự kiện</button>
			</form>
		</div>
	</form>
</div>
</body>
</html>